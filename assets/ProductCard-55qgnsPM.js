import{P as s,r as o,b as w,j as a,R as y,e as N,f as v}from"./index-_JLlfX1p.js";import{C as t,f as h}from"./format-CqrGYAHp.js";const p={grid:"row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4",compact:"row-cols-2 row-cols-sm-3 row-cols-lg-4"},k=({products:i=[],variant:r="grid",showShop:g=!0,onProductClick:c})=>{const[n,u]=o.useState(i),f=w();o.useEffect(()=>{u(i)},[i]);const b=o.useMemo(()=>p[r]??p.grid,[r]),d=e=>{if(c){c(e);return}f(`/shop/${e.id}`)};return!n||n.length===0?a.jsx("div",{className:"text-center py-5",children:a.jsx("h5",{className:"text-muted",children:"Tidak ada produk untuk ditampilkan."})}):a.jsx(y,{className:`g-4 ${b}`,children:n.map(e=>{var m,x;const j=e.price-e.price*(e.discount_percentage/100);return a.jsx(N,{children:a.jsxs(t,{className:"h-100 border-0 shadow-sm product-card cursor-pointer",role:"button",tabIndex:0,"aria-label":`Lihat detail ${e.title}`,onClick:()=>d(e),onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),d(e))},children:[a.jsxs("div",{className:"position-relative overflow-hidden rounded-top",children:[a.jsx(t.Img,{variant:"top",src:(m=e.images)==null?void 0:m[0],alt:e.title,className:"object-fit-cover",loading:"lazy",decoding:"async",style:{height:r==="compact"?"180px":"220px"}}),e.discount_percentage>0&&a.jsxs(v,{bg:"warning",text:"dark",className:"position-absolute top-0 end-0 m-2","aria-hidden":"true",children:["-",e.discount_percentage,"%"]})]}),a.jsxs(t.Body,{className:"d-flex flex-column",children:[a.jsx(t.Title,{className:"fs-6 fw-semibold lh-sm text-truncate",children:e.title}),g&&((x=e.shop)==null?void 0:x.name)&&a.jsx(t.Subtitle,{className:"text-muted small mb-2",children:e.shop.name}),a.jsxs("div",{className:"mt-auto pt-3 d-flex flex-column gap-1",children:[a.jsx("span",{className:"fw-bold text-primary",children:h(j)}),e.discount_percentage>0&&a.jsx("span",{className:"text-muted text-decoration-line-through small",children:h(e.price)})]})]})]})},e.id)})})};k.propTypes={products:s.arrayOf(s.shape({id:s.number.isRequired,title:s.string.isRequired,images:s.arrayOf(s.string),price:s.number.isRequired,discount_percentage:s.number.isRequired,description:s.string,shop:s.shape({id:s.number,name:s.string})})),variant:s.oneOf(["grid","compact"]),showShop:s.bool,onProductClick:s.func};export{k as P};
