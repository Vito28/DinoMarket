import{P as e,r as c,u as N,j as b,c as x,x as y,k as C,z as q,D as h}from"./index-_JLlfX1p.js";e.string,e.bool,e.bool,e.bool,e.bool;const E=c.forwardRef(({bsPrefix:t,className:u,fluid:r=!1,rounded:m=!1,roundedCircle:n=!1,thumbnail:s=!1,...a},f)=>(t=N(t,"img"),b.jsx("img",{ref:f,...a,className:x(u,r&&`${t}-fluid`,m&&"rounded",n&&"rounded-circle",s&&`${t}-thumbnail`)})));E.displayName="Image";const l=(t,u,r)=>Number.isNaN(Number(t))?u:Math.min(Math.max(Number(t),u),r),I=({productId:t,shopId:u,value:r,defaultValue:m=1,min:n=1,max:s=100,persist:a=!0,onQuantityChange:f})=>{const g=c.useMemo(()=>{if(typeof r=="number")return l(r,n,s);if(a){const o=y(t);if(o)return l(o.quantity,n,s)}return l(m,n,s)},[r,a,t,n,s,m]),[i,d]=c.useState(g);c.useEffect(()=>{typeof r=="number"&&d(l(r,n,s))},[r,n,s]),c.useEffect(()=>{if(!a)return;y(t)?C(t,i):q({productId:t,shopId:u,quantity:i})},[a,t,u,i]),c.useEffect(()=>{f&&f(i)},[i,f]);const j=()=>{a&&h(t,-1),d(o=>l(o-1,n,s))},p=()=>{a&&h(t,1),d(o=>l(o+1,n,s))};return b.jsxs("div",{className:"d-inline-flex align-items-center gap-2",children:[b.jsx("button",{type:"button",className:"btn btn-outline-secondary rounded-circle d-flex align-items-center justify-content-center quantity-btn",onClick:j,disabled:i<=n,"aria-label":"Kurangi jumlah",children:"âˆ’"}),b.jsx("span",{className:"fw-semibold fs-6 text-center",style:{minWidth:"2rem"},children:i}),b.jsx("button",{type:"button",className:"btn btn-outline-secondary rounded-circle d-flex align-items-center justify-content-center quantity-btn",onClick:p,disabled:i>=s,"aria-label":"Tambah jumlah",children:"+"})]})};I.propTypes={productId:e.oneOfType([e.string,e.number]).isRequired,shopId:e.oneOfType([e.string,e.number]),value:e.number,defaultValue:e.number,min:e.number,max:e.number,persist:e.bool,onQuantityChange:e.func};export{E as I,I as Q};
