import{u as B,a as $,c as R,r as o,j as e,B as d,b as _,d as L,C as t,S as M,R as p,e as c,f as T,N as g}from"./index-_JLlfX1p.js";import{P as f}from"./ProductCard-55qgnsPM.js";import{C as h,f as k}from"./format-CqrGYAHp.js";function b({animation:n,bg:s,bsPrefix:i,size:r,...u}){i=B(i,"placeholder");const[{className:j,...a}]=$(u);return{...a,className:R(j,n?`${i}-${n}`:i,r&&`${i}-${r}`,s&&`bg-${s}`)}}const y=o.forwardRef((n,s)=>{const i=b(n);return e.jsx(d,{...i,ref:s,disabled:!0,tabIndex:-1})});y.displayName="PlaceholderButton";const v=o.forwardRef(({as:n="span",...s},i)=>{const r=b(s);return e.jsx(n,{...r,ref:i})});v.displayName="Placeholder";const x=Object.assign(v,{Button:y}),K=()=>{var N;const n=_(),{products:s,shops:i,isLoading:r,isError:u,refetch:j}=L();if(r)return e.jsxs("main",{children:[e.jsx("section",{className:"bg-light py-5",children:e.jsxs(t,{className:"d-flex flex-column gap-4",children:[e.jsx(x,{as:"div",animation:"glow",className:"w-75",children:e.jsx(x,{xs:12,className:"display-6"})}),e.jsx(x,{as:"div",animation:"glow",className:"w-50",children:e.jsx(x,{xs:12})})]})}),e.jsx("section",{className:"py-5",children:e.jsx(t,{className:"text-center",children:e.jsx(M,{animation:"border",variant:"primary",role:"status"})})})]});if(u)return e.jsx("main",{children:e.jsx("section",{className:"py-5",children:e.jsxs(t,{className:"text-center d-flex flex-column align-items-center gap-3",children:[e.jsx("h2",{className:"fw-bold",children:"Gagal memuat katalog"}),e.jsx("p",{className:"text-muted mb-0",children:"Kami mengalami kendala saat mengambil data produk. Silakan coba lagi."}),e.jsx(d,{onClick:j,children:"Muat Ulang"})]})})});const a=o.useMemo(()=>!s||s.length===0?null:[...s].sort((l,m)=>m.discount_percentage-l.discount_percentage)[0],[s]),w=o.useMemo(()=>[...s].sort((l,m)=>m.discount_percentage-l.discount_percentage).slice(0,8),[s]),C=o.useMemo(()=>[...s].sort((l,m)=>l.price-m.price).slice(0,8),[s]),P=o.useMemo(()=>i.slice(0,4),[i]);return e.jsxs("main",{children:[e.jsx("section",{className:"bg-light py-5",children:e.jsx(t,{children:e.jsxs(p,{className:"align-items-center gy-4",children:[e.jsxs(c,{md:6,children:[e.jsx(T,{bg:"warning",text:"dark",className:"mb-3",children:"Koleksi Premium"}),e.jsx("h1",{className:"display-6 fw-bold text-primary hero-heading",children:"Gadget Pilihan Untuk Tingkatkan Produktivitas"}),e.jsx("p",{className:"text-muted lead mb-4",children:"Temukan perangkat favoritmu dengan harga terbaik dan garansi penuh. Kami kurasi produk berkualitas dari brand terpercaya untuk menunjang gaya hidup modern."}),a&&e.jsxs("div",{className:"d-flex flex-column flex-sm-row gap-3",children:[e.jsxs(d,{size:"lg",onClick:()=>n(`/shop/${a.id}`),children:["Lihat ",a.title]}),e.jsx(d,{variant:"outline-primary",size:"lg",onClick:()=>n("/search/promo"),children:"Jelajahi Promo"})]})]}),e.jsx(c,{md:6,children:a&&e.jsx(h,{className:"border-0 shadow-sm",children:e.jsxs(p,{className:"g-0 align-items-center",children:[e.jsx(c,{md:6,children:e.jsx(h.Img,{src:(N=a.images)==null?void 0:N[1],alt:a.title,className:"img-fluid rounded-start",loading:"lazy",decoding:"async"})}),e.jsx(c,{md:6,children:e.jsxs(h.Body,{children:[e.jsx(h.Title,{children:a.title}),e.jsxs(h.Text,{className:"text-muted small",children:["Diskon spesial ",a.discount_percentage,"% hanya untuk minggu ini."]}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("span",{className:"fs-4 fw-bold text-primary",children:k(a.price-a.price*(a.discount_percentage/100))}),e.jsx("span",{className:"text-muted text-decoration-line-through",children:k(a.price)})]})]})})]})})})]})})}),e.jsx("section",{className:"py-4 border-bottom",children:e.jsx(t,{children:e.jsxs(p,{className:"align-items-center gy-3",children:[e.jsxs(c,{md:6,children:[e.jsx("h2",{className:"h4 mb-0",children:"Belanja dari Toko Favorit"}),e.jsx("p",{className:"text-muted small mb-0",children:"Pilih brand resmi untuk pengalaman belanja tanpa khawatir."})]}),e.jsx(c,{md:6,children:e.jsx(g,{className:"justify-content-md-end flex-wrap gap-2",children:P.map(l=>e.jsx(g.Item,{children:e.jsx(g.Link,{onClick:()=>n(`/search/${encodeURIComponent(l.name)}`),className:"px-3 py-2 border rounded-pill text-secondary",children:l.name})},l.id))})})]})})}),e.jsx("section",{className:"py-5",children:e.jsxs(t,{className:"d-flex flex-column gap-5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"h3 mb-0",children:"Hot Deals"}),e.jsx("p",{className:"text-muted mb-0",children:"Penawaran terbaik dengan diskon spesial hari ini."})]}),e.jsx(d,{variant:"link",className:"text-decoration-none",onClick:()=>n("/search/deals"),children:"Lihat semua"})]}),e.jsx(f,{products:w})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-end mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"h3 mb-0",children:"Pilihan Editor"}),e.jsx("p",{className:"text-muted mb-0",children:"Perangkat terbaik untuk kamu yang ingin upgrade setup."})]}),e.jsx(d,{variant:"link",className:"text-decoration-none",onClick:()=>n("/search/recommendation"),children:"Lihat rekomendasi lain"})]}),e.jsx(f,{products:C})]})]})})]})};export{K as default};
